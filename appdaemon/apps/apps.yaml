state_manager:
  module: state_manager
  class: StateManager
  # global: true
  dependencies:
    - utils

all_lights:
  module: all_lights
  class: AllLights
  # global: true
  dependencies:
    - utils

auto_lock_front_door:
  module: auto_lock
  class: AutoLock
  door_entity: binary_sensor.doors_front_door
  lock_entity: lock.front_door_lock
  enable_entity: input_boolean.auto_lock_enabled
  enable_topic: home/autolock/front/enable
  timeout_topic: home/autolock/front/timeout

auto_lock_back_door:
  module: auto_lock
  class: AutoLock
  door_entity: binary_sensor.doors_back_door
  lock_entity: lock.back_door_lock
  enable_entity: input_boolean.auto_lock_enabled
  enable_topic: home/autolock/back/enable
  timeout_topic: home/autolock/back/timeout

door_light_automation:
  module: door_light_automation
  class: DoorLightAutomation
  door_light_map:
    binary_sensor.doors_front_door:
      # entrance light
      - light.0x847127fffebb5407
      # porch light
      - light.0x847127fffebb7194
    binary_sensor.doors_garage_door:
      # entrance light
      - light.0x847127fffebb5407
      # ratgo light
      - light.ratgdov25i_47a1de_light
      # garage light
      - light.0x847127fffe991128
    binary_sensor.doors_back_door:
      # back porch light
      - light.0x84fd27fffebcd13a
    # Add more door-to-lights mappings as needed
  timeout: 900  # 15 minutes in seconds, adjust as needed
  sun_entity: sun.sun
  next_rising_entity: sensor.sun_next_rising
  next_setting_entity: sensor.sun_next_setting
  grace_period: 30  # Grace period in minutes
  # override_entity: input_boolean.door_light_override

# virtual_switch:
#   module: all_lights
#   class: VirtualSwitch
#   # global: true
#   dependencies:
#     - utils


utils:
  module: utils
  global: true

doorbell:
  module: doorbell_notification
  class: DoorBellNotification
  sensor: binary_sensor.front_door_visitor

meeting_indicator:
  module: meeting_indicator
  class: MeetingIndicator
  namespace: default
  dependencies:
    - utils
  sensors: 
    # office button
    - sensor.0x00158d0009f4df65_action
    # test button
    - sensor.0x00158d00087b83ae_action
  lights:
    # office light
    # - light.0x84fd27fffea66599

    # test light
    # - light.0xb0ce18140017b647
    
    # living room light
    - light.0xb0ce18140017db76

    # master bedroom lamp
    # - light.0xb0ce18140017c418

testbutton:
  module: testbutton_notification
  class: TestButtonNotification
  sensor: sensor.test_button_action
  namespace: default
